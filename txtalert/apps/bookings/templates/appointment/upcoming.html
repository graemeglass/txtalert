{% extends "base.html" %}

{% block header %}
    <span><a href="{% url bookings:index %}">Home</a> &raquo; Upcoming Appointments</span>
{% endblock %}
    

{% block content %}
{% for visit in page.object_list %}
    {% if forloop.first %}
        <div class="widget rescheduled border">
            <span class="black">
                <strong>Next:</strong>{{visit.date|date:"j F Y"}}
            </span><br>
            {{visit.clinic.name}} <a href="{% url bookings:appointment_change visit_id=visit.pk %}">(Change)</a>
        </div>
    {% else %}
        <div class="widget border">
            <span class="black">{{visit.date|date:"j F Y"}}</span><br>
            {{visit.clinic.name}} <a href="{% url bookings:appointment_change visit_id=visit.pk %}">(Change)</a>
        </div>
    {% endif %}
{% endfor %}
    <div class="pagination">
        
        {% if page.has_previous %}
            <a href="?p={{page.previous_page_number}}">&laquo; Previous</a>
        {% endif %}
        
        {% for page_number in effective_page_range %}
            {% if page_number == page.number %}
                <b>{{page_number}}</b>
            {% else %}
                <a href="?p={{page_number}}">{{page_number}}</a>
            {% endif %}
            {% if not forloop.last %}|{% endif %}
        {% endfor %}
        
        {% if page.has_next %}
            <a href="?p={{page.next_page_number}}">&raquo; Next</a>
        {% endif %}
    </div>
    
    {% include "includes/menu.html" %}
{% endblock %}
    
